#!/usr/bin/env zsh

# https://www.goodreads.com/user/13353762/author_following
# `pbpaste | htmlq '.authorName' -a href | rget '/author/show/([^/]+)' | lisp-quote | cat-copy`
##
goodreads_author_ids=(
    ##
    '1221698.Neil_Gaiman'
    '3472.Margaret_Atwood'
    ###
    "108424.Patrick_Rothfuss"
    "6952980.Daniel_C_Dennett"
    "3956.Christopher_Hitchens"
    "3151.Matt_Ridley"
    "63348.John_Brockman"
    "205.Robert_A_Heinlein"
    "16667.Isaac_Asimov"
    "1630.Ray_Bradbury"
    "42464.Samad_Behrangi"
    "64957.Daniel_P_Friedman"
    "585.John_Steinbeck"
    "233593.W_H_Auden"
    "2041.Frances_Hodgson_Burnett"
    "31624.Edward_O_Wilson"
    "3369733.Emily_Curtis"
    "239579.Charles_Dickens"
    "13661.Victor_Hugo"
    "7145613.Nayyirah_Waheed"
    "7266473.Reza_Pahlavi"
    "82324.Ali_Ansari"
    "4370565.Erin_Morgenstern"
    "3299.Salman_Rushdie"
    "7025.Gregory_Maguire"
    "843200.Oliver_Sacks"
    "7.Bill_Bryson"
    "14010620.Aneko_Yusagi"
    "3915.Steven_Pinker"
    "15080768.R_H_Sin"
    "36746.Lemony_Snicket"
    "4533716.Eliezer_Yudkowsky"
    "8430204.Alexander_Wales"
    "14899231.Max_Harms"
    "395812.Yuval_Noah_Harari"
    "99058.Michael_S_Gazzaniga"
    "47744.Ray_Kurzweil"
    "340365.Menno_Schilthuizen"
    "1439.Malcolm_Gladwell"
    "63972.Daniel_Coyle"
    "206398.Richard_W_Wrangham"
    "88617.Adam_Rutherford"
    "16511290.Julia_Shaw"
    "16574061.Andrew_S_Tanenbaum"
    "318269.Richard_M_Stallman"
    "10866248.Scott_Alexander"
    "91482.Nick_Cohen"
    "17151107.John_McWhorter"
    "14128815.Domagoj_Kurmaic"
    "47779.Steven_H_Strogatz"
    "14661183.Siavash_Shahshahani"
    "21559.Nassim_Nicholas_Taleb"
    "600923.Pedro_Carvalho"
    "14675935.Er_Gen"
    "43159.Robert_Nozick"
    "65304.David_D_Friedman"
    "12791.Eric_D_Beinhocker"
    "34482.Paul_Seabright"
    "156319.Robert_Trivers"
    "1194.Richard_Dawkins"
    "12815.Carl_Zimmer"
    "130698.Ted_Chiang"
    "373203.Bryan_Caplan"
    "6480560.Rory_Sutherland"
    "608087.Nick_Bostrom"
    "153350.Brian_W_Kernighan"
    "8419.George_Lakoff"
    "10336.Ian_Stewart"
    "17242528.Andrew_Shitov"
    "7858279.Stuart_Armstrong"
    "1716.Jim_Al_Khalili"
    "151771.Sean_Carroll"
    "3865278.Robin_Hanson"
    "526072.Joseph_Henrich"
    "57677.Thomas_Nagel"
    "184050.Gerd_Gigerenzer"
    "17674.V_S_Ramachandran"
    "963811.A_J_Jacobs"
    "6426.Joseph_E_Stiglitz"
    "5790.Niall_Ferguson"
    "13730.R_L_Stine"
    "17130205.cthulhuraejepsen"
    "8352985.Sam_Hughes"
    "32699.Greg_Egan"
    "1290380.Douglas_Crockford"
    "543586.Paul_W_Glimcher"
    "150160.Gary_F_Marcus"
    "17888.David_J_Chalmers"
    "23470.Bill_Gates"
    "5289593.Ray_Dalio"
    "44279.Charles_Murray"
    "3032451.Siddhartha_Mukherjee"
    "36825.Gary_Klein"
    "1563.Steven_Johnson"
    "51185.Philip_E_Tetlock"
    "39021.Chip_Heath"
    "39020.Dan_Heath"
    "72401.Daniel_Kahneman"
    "60033.Ant_nio_R_Dam_sio"
    "5777185.Kevin_J_Mitchell"
    "2788.Eric_R_Kandel"
    "4199891.Brian_Christian"
    "6238.Marjane_Satrapi"
    "256.Jared_Diamond"
    "7956.Mary_Roach"
    "7047581.Max_Tegmark"
    "12855.Neil_deGrasse_Tyson"
    "187.Robert_M_Sapolsky"
    "5302812.Abhijit_V_Banerjee"
    "29101.David_Graeber"
    "16593.Sam_Harris"
    "1409.Roger_Penrose"
    "18800.Michio_Kaku"
    "1401.Stephen_Hawking"
    "7105.Martin_Gardner"
    "1387272.Ben_Goldacre"
    "6047776.Stuart_Ritchie"
    "3034502.Douglas_R_Hofstadter"
    "15428.Geoffrey_Miller"
    "3462210.Staffan_Lindeberg"
    "1046726.Stuart_Russell"
    "3078.Atul_Gawande"
    "4273.Roald_Dahl"
    "14847937.Seth_Stephens_Davidowitz"
    "18035572.Richard_J_Haier"
    "6889609.L_A_Paul"
    "210682.Douglas_Murray"
    "1654.Terry_Pratchett"
    "1077326.J_K_Rowling"
    "14600.Burton_G_Malkiel"
    "7167020.Scott_Sumner"
    "2056.Thomas_Sowell"
    "7966601.Nicholas_B_Davies"
    "135025.Robert_Plomin"
    "2952149.Scott_Aaronson"
    "23574.John_Maynard_Smith"
    "235021.Walter_E_Williams"
    "55727.Jonathan_Haidt"
    "95413.Peter_Schweizer"
    "92598.Richard_J_Herrnstein"
    "334841.Paul_A_Offit"
    "10894.Simon_Singh"
    "2790706.Hans_Rosling"
    "2079479.Thad_A_Polk"
    "54393.Tyler_Cowen"
    "293703.Helena_Cronin"
    "175417.Bruce_Schneier"
    "5780686.Liu_Cixin"
    "2476.Noam_Chomsky"
    "1291.Paul_Krugman"
    "151353.Nicholas_Carr"
    "14542882.Bharat_Anand"
    "65915.Thomas_C_Schelling"
    "82531.Amartya_Sen"
    "65483.Richard_H_Thaler"
    "221301.Alvin_E_Roth"
    "7715875.Patri_Friedman"
    "25159.Lawrence_Lessig"
    "291879.Joseph_Y_Halpern"
    "20757.Martha_C_Nussbaum"
    "334953.Andrew_Gelman"
    "3035.N_Gregory_Mankiw"
    "11958.James_C_Scott"
    "12817.Daron_Acemo_lu"
    "18128046.L_Nguy_n_Hoang"
    "417356.Stanislas_Dehaene"
    "167825.Maryanne_Wolf"
    "392039.Richard_S_Sutton"
    "2538689.Dimitrios_Diamantaras"
    "13913979.Avinash_K_Dixit"
    "5650904.David_Easley"
    "30198.Edward_L_Glaeser"
    "10401.James_Gleick"
    "17882384.Cailin_O_Connor"
    "383606.Robert_Galbraith"
    "8107.Rebecca_Goldstein"
    "75003.Alan_Sokal"
    "62338.Irshad_Manji"
    "45840.Elizabeth_Kolbert"
    "86758.Steven_Weinberg"
    "12581.Cory_Doctorow"
    "15901359.Nadia_Eghbal"
    "2337393.Noah_D_Goodman"
    "6860850.Garett_Jones"
    "1153787.Richard_Thompson_Ford"
    "1293688.A_E_van_Vogt"
    "101708.Judea_Pearl"
    "3387859.Nate_Silver"
    "16598.William_Poundstone"
    "16347980.Fran_ois_Chollet"
    "16056819.Aur_lien_G_ron"
    "493184.Kevin_P_Murphy"
    "5725109.Allen_B_Downey"
    "15468.Peter_Norvig"
    "139599.Stephen_Wolfram"
    "18138012.Hillel_Wayne"
    "263594.Matthias_Felleisen"
    "60832.Scott_Meyers"
    "17680775.Thor_Magnusson"
    "681591.Jacek_Dukaj"
    "229855.Andy_Oram"
    "6486877.Laurent_Bossavit"
    "8474721.Peter_Thiel"
    "48723.Garry_Kasparov"
    "303279.Tim_Wu"
    "6553679.Sir_Poley"
    "7397963.Michael_Warren_Lucas"
    "5771673.Nonjon"
    "4762746.Venkatesh_G_Rao"
    "4512632.Matthew_Schocke"
    "7422533.White_Squirrel"
    "15571909.Wen_Chao_Gong"
    "17576130.Cuttlefish_That_Loves_Diving"
    "21211344.Roy_Lotz"
    "59924.Arnold_Robbins"
    "312165.Peter_Seibel"
    "15497398.Zachary_Tellman"
    "5227505.Peteris_Krumins"
    "24589.Gerald_Jay_Sussman"
    "546379.Pierre_M_Nugues"
    "148697.Susan_Blackmore"
    "6446041.Maajid_Nawaz"
    ###
)

goodreads_author_urls=()
local author
for author in $goodreads_author_ids[@] ; do
    goodreads_author_urls+=    "https://www.goodreads.com/author/list/${author}?utf8=%E2%9C%93&sort=original_publication_year"
done

tmuxnewshenv="rt_skip='$rt_skip' rt_duplicates_key=goodreads rt_nt=y rt_ge=( re goodreads-author-works-get ) rt_notel=y rt_e=(goodreads-url-to-tlg) rt_eud=0 rt_eid=$((3600*24*7))" \
    tmuxnewsh goodreads-authors rss-tsend "$goodreads_author_urls[@]"
